(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+Ald":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{}var s=e("pMnS"),i=e("SVse"),o=e("DQLy");class r{constructor(l){this.store=l,this.statView=1,this.cpuPercentUsage=0,this.memPercentUsage=0,this.pcName="Equipo",this.capacity=0,this.used=0,this.available=0}ngOnInit(){this.store.pipe(Object(o.v)("actionReducer")).subscribe(l=>{this.changeStatView(parseInt(l))})}changeStatView(l){l>0&&(this.statView=l)}}var a=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function c(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,6,"div",[["class","status-circle mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,2,"span",[["class","progress-percent"]],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["","%"])),u["\u0275ppd"](3,2),(l()(),u["\u0275eld"](4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Uso RAM"]))],null,function(l,n){var e=n.component,t=u["\u0275unv"](n,2,0,l(n,3,0,u["\u0275nov"](n.parent,0),e.memPercentUsage,"2.1-1"));l(n,2,0,t)})}function d(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,6,"div",[["class","status-circle mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,2,"span",[["class","progress-percent"]],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["","%"])),u["\u0275ppd"](3,2),(l()(),u["\u0275eld"](4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Uso CPU"]))],null,function(l,n){var e=n.component,t=u["\u0275unv"](n,2,0,l(n,3,0,u["\u0275nov"](n.parent,0),e.cpuPercentUsage,"2.1-1"));l(n,2,0,t)})}function p(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,4,"div",[["class","note"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"span",[["style","color: tomato;"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["* "])),(l()(),u["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Relativo al numero de nucleos"]))],null,null)}function h(l){return u["\u0275vid"](0,[u["\u0275pid"](0,i.DecimalPipe,[u.LOCALE_ID]),(l()(),u["\u0275eld"](1,0,null,null,3,"div",[["class","row mb-4"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,["Equipo: ",""])),(l()(),u["\u0275eld"](5,0,null,null,6,"div",[["class","row mb-4"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,5,"div",[["class","col"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,4,"div",[["class","status-progress mb-3"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,c)),u["\u0275did"](9,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,d)),u["\u0275did"](11,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,p)),u["\u0275did"](13,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](14,0,null,null,20,"div",[["class","status-bar-container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](15,0,null,null,19,"div",[["class","status-bar"]],null,null,null,null,null)),(l()(),u["\u0275eld"](16,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,5,"div",[["class","col-4 status-opt"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.changeStatView(1)&&u),u},null,null)),u["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2]),u["\u0275did"](19,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](20,{"option-selected":0}),(l()(),u["\u0275eld"](21,0,null,null,1,"span",[["class","mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275eld"](22,0,null,null,0,"i",[["class","fas fa-memory"]],null,null,null,null,null)),(l()(),u["\u0275eld"](23,0,null,null,5,"div",[["class","col-4 status-opt"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.changeStatView(2)&&u),u},null,null)),u["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2]),u["\u0275did"](25,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](26,{"option-selected":0}),(l()(),u["\u0275eld"](27,0,null,null,1,"span",[["class","mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275eld"](28,0,null,null,0,"i",[["class","fas fa-microchip"]],null,null,null,null,null)),(l()(),u["\u0275eld"](29,0,null,null,5,"div",[["class","col-4 status-opt"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.changeStatView(0)&&u),u},null,null)),u["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2]),u["\u0275did"](31,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](32,{"option-selected":0}),(l()(),u["\u0275eld"](33,0,null,null,1,"span",[["class","mx-auto "],["style","color: gray;"]],null,null,null,null,null)),(l()(),u["\u0275eld"](34,0,null,null,0,"i",[["class","fas fa-hdd"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,9,0,1==e.statView),l(n,11,0,2==e.statView),l(n,13,0,2==e.statView);var u=l(n,20,0,1===e.statView);l(n,19,0,"col-4 status-opt",u);var t=l(n,26,0,2===e.statView);l(n,25,0,"col-4 status-opt",t);var s=l(n,32,0,3===e.statView);l(n,31,0,"col-4 status-opt",s)},function(l,n){l(n,4,0,n.component.pcName)})}var m=e("s7LF");class g{constructor(l,n,e,u){this.routeService=l,this.loadingService=n,this.alertService=e,this.bashService=u,this.context="ProcessListComponent",this.cpuPercentUsage=0,this.memPercentUsage=0,this.filter=""}ngOnInit(){this.routeService.notInHome(),this.bashService.connect(),this.processSubscription=this.bashService.processObservable().subscribe(l=>{console.log(l),this.processList=""!==this.filter?l.processList.filter(l=>l.command.includes(this.filter)):l.processList,this.cpuPercentUsage=l.cpuUsage,this.memPercentUsage=l.memUsage})}ngOnDestroy(){this.processSubscription&&!this.processSubscription.closed&&(this.processSubscription.unsubscribe(),this.bashService.cleanAll())}killProcess(l){this.bashService.killProcess(l)}}var v=e("9jJz"),f=e("7ch9"),b=e("3LUQ"),w=e("XNiG"),I=e("qgXg"),S=e("quSY"),C=e("pxpQ"),N=e("9ppp"),_=e("Ylt2");class x extends w.a{constructor(l=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,e){super(),this.scheduler=e,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=l<1?1:l,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(l){const n=this._events;n.push(l),n.length>this._bufferSize&&n.shift(),super.next(l)}nextTimeWindow(l){this._events.push(new P(this._getNow(),l)),this._trimBufferThenGetEvents(),super.next(l)}_subscribe(l){const n=this._infiniteTimeWindow,e=n?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,t=e.length;let s;if(this.closed)throw new N.a;if(this.isStopped||this.hasError?s=S.a.EMPTY:(this.observers.push(l),s=new _.a(this,l)),u&&l.add(l=new C.a(l,u)),n)for(let i=0;i<t&&!l.closed;i++)l.next(e[i]);else for(let i=0;i<t&&!l.closed;i++)l.next(e[i].value);return this.hasError?l.error(this.thrownError):this.isStopped&&l.complete(),s}_getNow(){return(this.scheduler||I.a).now()}_trimBufferThenGetEvents(){const l=this._getNow(),n=this._bufferSize,e=this._windowTime,u=this._events,t=u.length;let s=0;for(;s<t&&!(l-u[s].time<e);)s++;return t>n&&(s=Math.max(s,t-n)),s>0&&u.splice(0,s),u}}class P{constructor(l,n){this.time=l,this.value=n}}var E=e("wsSD"),y=e("IheW");let L=(()=>{class l{constructor(l,n,e){this.alertService=l,this.loadingService=n,this.http=e,this.url="http://localhost:8080",this.processBehaviorSubject=new x(1),this.settings=new E.a,this.defaultErrorMsg="No se pudo establecer conexi\xf3n con el servidor, o se perdio la conexi\xf3n con el mismo",this.settings=JSON.parse(localStorage.getItem("settings")),this.setModels()}setModels(){this.settings&&(this.url=this.settings.ip)}connect(){this.loadingService.setLoading(!0),console.log(this.url),this.source=new EventSource(this.url+"/monitor/getProcessList"),this.source.addEventListener("message",l=>{this.processBehaviorSubject.next(JSON.parse(l.data))}),this.source.addEventListener("open",l=>{this.loadingService.setLoading(!1),console.log(l)}),this.source.addEventListener("error",l=>{this.loadingService.setLoading(!1),console.log(l)}),this.source.addEventListener("heartBeat",l=>{})}processObservable(){return this.processBehaviorSubject.asObservable()}cleanAll(){this.source&&(this.source.close(),console.log("Cerrando SSE: "+this.source.readyState))}errorHandler(l,n=!1){let e;n?2===l.target.readyState&&(e="Error en el SSE"):e=l.error,this.alertService.newAlert("\xa1Error!",e,!1).then(l=>{},l=>{})}killProcess(l){this.alertService.newAlert("Confirmaci\xf3n","Realmente quiere terminar el proceso",!0).then(n=>{this.loadingService.setLoading(!0),this.http.get(this.url+"/monitor/killprocessById?id="+l,{responseType:"text"}).subscribe(l=>{this.loadingService.setLoading(!1),console.log(l)},l=>{console.log(l),this.loadingService.setLoading(!1),this.errorHandler(l)})},l=>{})}}return l.ngInjectableDef=u["\u0275\u0275defineInjectable"]({factory:function(){return new l(u["\u0275\u0275inject"](b.a),u["\u0275\u0275inject"](f.a),u["\u0275\u0275inject"](y.c))},token:l,providedIn:"root"}),l})();var R=u["\u0275crt"]({encapsulation:2,styles:[],data:{}});function T(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,10,"tr",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.killProcess(l.context.$implicit.processID)&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["",""])),(l()(),u["\u0275eld"](3,0,null,null,1,"td",[["style","color: tomato;"]],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,["",""])),(l()(),u["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](6,null,["",""])),(l()(),u["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["","%"])),(l()(),u["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](10,null,["","%"]))],null,function(l,n){l(n,2,0,n.context.$implicit.processID),l(n,4,0,n.context.$implicit.customId),l(n,6,0,n.context.$implicit.command),l(n,8,0,n.context.$implicit.cpuUsage),l(n,10,0,n.context.$implicit.memUsage)})}function k(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,33,"div",[["class","row h-100"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"div",[["class","col-xl-5 col-lg-5 mb-3 flip-in-ver-right"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,2,"div",[["class","status mx-auto text-center mb-4"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,1,"app-status",[],null,null,null,h,a)),u["\u0275did"](4,114688,null,0,r,[o.l],{cpuPercentUsage:[0,"cpuPercentUsage"],memPercentUsage:[1,"memPercentUsage"]},null),(l()(),u["\u0275eld"](5,0,null,null,28,"div",[["class","col flip-in-ver-left"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,8,"div",[["class","form-group col-12 row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,1,"label",[["class","col-3 my-auto"],["for","filter"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Nombre del proceso"])),(l()(),u["\u0275eld"](10,0,null,null,5,"input",[["class","form-control col"],["name","filter"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,s=l.component;return"input"===n&&(t=!1!==u["\u0275nov"](l,11)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,11).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,11)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,11)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(s.filter=e)&&t),t},null,null)),u["\u0275did"](11,16384,null,0,m.d,[u.Renderer2,u.ElementRef,[2,m.a]],null,null),u["\u0275prd"](1024,null,m.g,function(l){return[l]},[m.d]),u["\u0275did"](13,671744,null,0,m.l,[[8,null],[8,null],[8,null],[6,m.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["\u0275prd"](2048,null,m.h,null,[m.l]),u["\u0275did"](15,16384,null,0,m.i,[[4,m.h]],null,null),(l()(),u["\u0275eld"](16,0,null,null,17,"div",[["class","row h-100"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,16,"div",[["class","col overflow-col-container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](18,0,null,null,15,"div",[["class","overflow-col"]],null,null,null,null,null)),(l()(),u["\u0275eld"](19,0,null,null,14,"table",[["class","table table-dark table-striped"]],null,null,null,null,null)),(l()(),u["\u0275eld"](20,0,null,null,10,"thead",[],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" P_Id "])),(l()(),u["\u0275eld"](23,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" C_Id "])),(l()(),u["\u0275eld"](25,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Proceso "])),(l()(),u["\u0275eld"](27,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Memoria "])),(l()(),u["\u0275eld"](29,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" CPU "])),(l()(),u["\u0275eld"](31,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,T)),u["\u0275did"](33,278528,null,0,i.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.cpuPercentUsage,e.memPercentUsage),l(n,13,0,"filter",e.filter),l(n,33,0,e.processList)},function(l,n){l(n,10,0,u["\u0275nov"](n,15).ngClassUntouched,u["\u0275nov"](n,15).ngClassTouched,u["\u0275nov"](n,15).ngClassPristine,u["\u0275nov"](n,15).ngClassDirty,u["\u0275nov"](n,15).ngClassValid,u["\u0275nov"](n,15).ngClassInvalid,u["\u0275nov"](n,15).ngClassPending)})}function V(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-process-list",[],null,null,null,k,R)),u["\u0275did"](1,245760,null,0,g,[v.a,f.a,b.a,L],null,null)],function(l,n){l(n,1,0)},null)}var U=u["\u0275ccf"]("app-process-list",g,V,{},{},[]),D=e("iInd");class O{}e.d(n,"ProcessListModuleNgFactory",function(){return M});var M=u["\u0275cmf"](t,[],function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,U]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,i.NgLocalization,i.NgLocaleLocalization,[u.LOCALE_ID,[2,i["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](4608,m.p,m.p,[]),u["\u0275mpd"](4608,m.e,m.e,[]),u["\u0275mpd"](1073742336,i.CommonModule,i.CommonModule,[]),u["\u0275mpd"](1073742336,m.o,m.o,[]),u["\u0275mpd"](1073742336,m.f,m.f,[]),u["\u0275mpd"](1073742336,m.n,m.n,[]),u["\u0275mpd"](1073742336,D.m,D.m,[[2,D.r],[2,D.k]]),u["\u0275mpd"](1073742336,O,O,[]),u["\u0275mpd"](1073742336,t,t,[]),u["\u0275mpd"](1024,D.i,function(){return[[{path:"",component:g}]]},[])])})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+Ald":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class s{}var t=e("pMnS"),i=e("SVse");class r{constructor(){this.statView=1,this.cpuPercentUsage=0,this.memPercentUsage=0,this.pcName="Anonymous",this.capacity=0,this.used=0,this.available=0}ngOnInit(){}changeStatView(l){this.statView=l}}var o=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function a(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"span",[["class","progress-percent"]],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,["","%"])),u["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,s=u["\u0275unv"](n,1,0,l(n,2,0,u["\u0275nov"](n.parent,0),e.memPercentUsage,"2.1-1"));l(n,1,0,s)})}function c(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,9,"div",[["class","col-12 disk-info"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Capacidad: 478.9 GB"])),(l()(),u["\u0275eld"](4,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Usado: 103.9 GB"])),(l()(),u["\u0275eld"](7,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Disponible: 375 GB"]))],null,null)}function d(l){return u["\u0275vid"](0,[u["\u0275pid"](0,i.DecimalPipe,[u.LOCALE_ID]),(l()(),u["\u0275eld"](1,0,null,null,3,"div",[["class","row mb-4"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,["Equipo: ",""])),(l()(),u["\u0275eld"](5,0,null,null,7,"div",[["class","row mb-4"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,3,"div",[["class","status-progress mb-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,2,"div",[["class","status-circle mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,a)),u["\u0275did"](10,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,c)),u["\u0275did"](12,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](13,0,null,null,20,"div",[["class","status-bar-container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,19,"div",[["class","status-bar"]],null,null,null,null,null)),(l()(),u["\u0275eld"](15,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](16,0,null,null,5,"div",[["class","col-4 status-opt"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.changeStatView(1)&&u),u},null,null)),u["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2]),u["\u0275did"](18,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](19,{"option-selected":0}),(l()(),u["\u0275eld"](20,0,null,null,1,"span",[["class","mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,0,"i",[["class","fas fa-memory"]],null,null,null,null,null)),(l()(),u["\u0275eld"](22,0,null,null,5,"div",[["class","col-4 status-opt"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.changeStatView(2)&&u),u},null,null)),u["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2]),u["\u0275did"](24,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](25,{"option-selected":0}),(l()(),u["\u0275eld"](26,0,null,null,1,"span",[["class","mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275eld"](27,0,null,null,0,"i",[["class","fas fa-hdd"]],null,null,null,null,null)),(l()(),u["\u0275eld"](28,0,null,null,5,"div",[["class","col-4 status-opt"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.changeStatView(3)&&u),u},null,null)),u["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2]),u["\u0275did"](30,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["\u0275pod"](31,{"option-selected":0}),(l()(),u["\u0275eld"](32,0,null,null,1,"span",[["class","mx-auto"]],null,null,null,null,null)),(l()(),u["\u0275eld"](33,0,null,null,0,"i",[["class","fas fa-microchip"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,10,0,1==e.statView),l(n,12,0,3==e.statView);var u=l(n,19,0,1===e.statView);l(n,18,0,"col-4 status-opt",u);var s=l(n,25,0,2===e.statView);l(n,24,0,"col-4 status-opt",s);var t=l(n,31,0,3===e.statView);l(n,30,0,"col-4 status-opt",t)},function(l,n){l(n,4,0,n.component.pcName)})}class p{constructor(l,n,e,u){this.routeService=l,this.loadingService=n,this.alertService=e,this.bashService=u,this.cpuPercentUsage=0,this.memPercentUsage=0}ngOnInit(){this.routeService.notInHome(),this.bashService.connect(),this.processSubscription=this.bashService.processObservable().subscribe(l=>{this.processList=l,this.cpuPercentUsage=0,this.memPercentUsage=0;for(let n=0;n<this.processList.length;n++)this.cpuPercentUsage+=this.processList[n].cpuUsage,this.memPercentUsage+=this.processList[n].memUsage})}ngOnDestroy(){this.processSubscription&&!this.processSubscription.closed&&(this.processSubscription.unsubscribe(),this.bashService.cleanAll())}killProcess(l){this.bashService.killProcess(l)}}var h=e("9jJz"),m=e("7ch9"),v=e("3LUQ"),f=e("XNiG"),g=e("qgXg"),b=e("quSY"),w=e("pxpQ"),S=e("9ppp"),I=e("Ylt2");class N extends f.a{constructor(l=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,e){super(),this.scheduler=e,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=l<1?1:l,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(l){const n=this._events;n.push(l),n.length>this._bufferSize&&n.shift(),super.next(l)}nextTimeWindow(l){this._events.push(new C(this._getNow(),l)),this._trimBufferThenGetEvents(),super.next(l)}_subscribe(l){const n=this._infiniteTimeWindow,e=n?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,s=e.length;let t;if(this.closed)throw new S.a;if(this.isStopped||this.hasError?t=b.a.EMPTY:(this.observers.push(l),t=new I.a(this,l)),u&&l.add(l=new w.a(l,u)),n)for(let i=0;i<s&&!l.closed;i++)l.next(e[i]);else for(let i=0;i<s&&!l.closed;i++)l.next(e[i].value);return this.hasError?l.error(this.thrownError):this.isStopped&&l.complete(),t}_getNow(){return(this.scheduler||g.a).now()}_trimBufferThenGetEvents(){const l=this._getNow(),n=this._bufferSize,e=this._windowTime,u=this._events,s=u.length;let t=0;for(;t<s&&!(l-u[t].time<e);)t++;return s>n&&(t=Math.max(t,s-n)),t>0&&u.splice(0,t),u}}class C{constructor(l,n){this.time=l,this.value=n}}var x=e("IheW");let _=(()=>{class l{constructor(l,n,e){this.alertService=l,this.loadingService=n,this.http=e,this.url="http://localhost:8080/monitor",this.processBehaviorSubject=new N(1),this.defaultErrorMsg="No se pudo establecer conexi\xf3n con el servidor, o se perdio la conexi\xf3n con el mismo"}connect(){this.loadingService.setLoading(!0),this.source=new EventSource(this.url+"/getProcessList"),this.source.addEventListener("message",l=>{this.processBehaviorSubject.next(JSON.parse(l.data))}),this.source.addEventListener("open",l=>{this.loadingService.setLoading(!1)}),this.source.addEventListener("error",l=>{this.loadingService.setLoading(!1)}),this.source.addEventListener("heartBeat",l=>{})}processObservable(){return this.processBehaviorSubject.asObservable()}cleanAll(){this.source&&(this.source.close(),console.log("Cerrando SSE: "+this.source.readyState))}errorHandler(l,n=!1){let e;n?2===l.target.readyState&&(e="Error en el SSE"):e=l.error,this.alertService.newAlert("\xa1Error!",e,!1).then(l=>{},l=>{})}killProcess(l){this.alertService.newAlert("Confirmaci\xf3n","Realmente quiere terminar el proceso",!0).then(n=>{this.loadingService.setLoading(!0),this.http.get(this.url+"/killprocess?name="+l,{responseType:"text"}).subscribe(l=>{this.loadingService.setLoading(!1),console.log(l)},l=>{console.log(l),this.loadingService.setLoading(!1),this.errorHandler(l)})},l=>{})}}return l.ngInjectableDef=u["\u0275\u0275defineInjectable"]({factory:function(){return new l(u["\u0275\u0275inject"](v.a),u["\u0275\u0275inject"](m.a),u["\u0275\u0275inject"](x.c))},token:l,providedIn:"root"}),l})();var P=u["\u0275crt"]({encapsulation:2,styles:[],data:{}});function k(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,8,"tr",[],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.killProcess(l.context.$implicit.command)&&u),u},null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["",""])),(l()(),u["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](4,null,["",""])),(l()(),u["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](6,null,["","%"])),(l()(),u["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](8,null,["","%"]))],null,function(l,n){l(n,2,0,n.context.$implicit.processID),l(n,4,0,n.context.$implicit.command),l(n,6,0,n.context.$implicit.cpuUsage),l(n,8,0,n.context.$implicit.memUsage)})}function E(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,19,"div",[["class","row h-100"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,3,"div",[["class","col-xl-4 col-lg-4 mb-3 flip-in-ver-right"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,2,"div",[["class","status mx-auto text-center mb-4"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,1,"app-status",[],null,null,null,d,o)),u["\u0275did"](4,114688,null,0,r,[],{cpuPercentUsage:[0,"cpuPercentUsage"],memPercentUsage:[1,"memPercentUsage"]},null),(l()(),u["\u0275eld"](5,0,null,null,14,"div",[["class","col overflow-col-container flip-in-ver-left"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,13,"div",[["class","overflow-col"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,12,"table",[["class","table table-dark table-striped"]],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,8,"thead",[],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Id "])),(l()(),u["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Proceso "])),(l()(),u["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Memoria "])),(l()(),u["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" CPU "])),(l()(),u["\u0275eld"](17,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,k)),u["\u0275did"](19,278528,null,0,i.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.cpuPercentUsage,e.memPercentUsage),l(n,19,0,e.processList)},null)}function L(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-process-list",[],null,null,null,E,P)),u["\u0275did"](1,245760,null,0,p,[h.a,m.a,v.a,_],null,null)],function(l,n){l(n,1,0)},null)}var T=u["\u0275ccf"]("app-process-list",p,L,{},{},[]),U=e("iInd");class V{}e.d(n,"ProcessListModuleNgFactory",function(){return R});var R=u["\u0275cmf"](s,[],function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[t.a,T]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,i.NgLocalization,i.NgLocaleLocalization,[u.LOCALE_ID,[2,i["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](1073742336,i.CommonModule,i.CommonModule,[]),u["\u0275mpd"](1073742336,U.m,U.m,[[2,U.r],[2,U.k]]),u["\u0275mpd"](1073742336,V,V,[]),u["\u0275mpd"](1073742336,s,s,[]),u["\u0275mpd"](1024,U.i,function(){return[[{path:"",component:p}]]},[])])})}}]);